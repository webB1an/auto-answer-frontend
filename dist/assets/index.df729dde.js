import{d as E,b as z,e as D,f as u,i as w,r as l,o as F,g as k,h as R,j as I,k as O,c as G,l as e,w as t,m as H,n as _,t as J,p as K,u as Q,E as W,q as X,_ as Y}from"./index.82c731c8.js";import{g as Z,a as ee,b as te,d as ae}from"./constant.ba55c1fe.js";const oe=E({__name:"index",props:{page:null,limit:null,total:null},emits:["update:page","update:limit","pagination"],setup(C,{emit:i}){const m=C,s=z({get(){return m.page},set(p){i("update:page",p)}}),r=z({get(){return m.limit},set(p){i("update:limit",p)}}),y=()=>{i("pagination")},g=()=>{i("pagination")};return(p,d)=>{const V=l("el-pagination");return F(),D(V,{currentPage:u(s),"onUpdate:currentPage":d[0]||(d[0]=b=>w(s)?s.value=b:null),"page-size":u(r),"onUpdate:page-size":d[1]||(d[1]=b=>w(r)?r.value=b:null),"page-sizes":[10,20,40,60,80,100],background:"",total:C.total,onSizeChange:y,onCurrentChange:g,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])}}});function ne(){const C=k(0),i=R({page:1,pageSize:10});return{total:C,query:i}}const le={class:"app-container"},ue=_("\u67E5\u8BE2"),se=_("\u751F\u6210"),re=_("\u65B0\u5EFA"),ie=_(" \u7F16\u8F91 "),de=_("\u5220\u9664"),pe={class:"dialog-footer"},ce=_("\u5173\u95ED"),_e=E({__name:"index",setup(C){const i=Q(),{total:m,query:s}=ne(),r=k({brand:"",name:""}),y=k([]),g=k(!1),p=k(""),d=()=>{Z({...s,requestData:{...r.value}}).then(n=>{console.log(n.data),y.value=n.data.list,m.value=n.data.total})},V=()=>{d()},b=()=>{s.page=1,d()},{copy:P}=I(),h=O("clipboard-write");console.log(u(h));const U=()=>{te().then(n=>{if(u(h)==="granted")return P(n.data);p.value=n.data,g.value=!0})},S=()=>{i.push({path:"/cooker/add"})},$=n=>{i.push({path:`/cooker/editor/${n.id}`})},q=n=>{!n.id||W.confirm("\u662F\u5426\u786E\u8BA4\u5220\u9664\uFF1F","\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{ae(n.id).then(a=>{console.log(a);const v=a.code===90001?"success":"error";X({message:a.msg,type:v}),d()})}).catch(()=>{})};return d(),(n,a)=>{const v=l("el-input"),x=l("el-form-item"),B=l("el-col"),f=l("el-button"),A=l("el-row"),M=l("el-form"),N=l("el-card"),c=l("el-table-column"),L=l("el-table"),T=l("el-dialog");return F(),G("div",le,[e(N,null,{default:t(()=>[e(M,{model:r.value,inline:""},{default:t(()=>[e(A,null,{default:t(()=>[e(B,{span:8},{default:t(()=>[e(x,{label:"\u54C1\u724C",prop:"brand"},{default:t(()=>[e(v,{modelValue:r.value.brand,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value.brand=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(B,{span:8},{default:t(()=>[e(x,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[e(v,{modelValue:r.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>r.value.name=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(B,{span:8},{default:t(()=>[e(x,null,{default:t(()=>[e(f,{onClick:b,type:"primary"},{default:t(()=>[ue]),_:1}),e(f,{onClick:U,type:"primary"},{default:t(()=>[se]),_:1}),e(f,{onClick:S,type:"primary"},{default:t(()=>[re]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(L,{class:"mt20",data:y.value,border:""},{default:t(()=>[e(c,{label:"\u5206\u7C7B",align:"center"},{default:t(o=>[_(J(u(ee)(o.row.sort)),1)]),_:1}),e(c,{prop:"brand",label:"\u54C1\u724C",align:"center"}),e(c,{prop:"name",label:"\u540D\u79F0",align:"center"}),e(c,{prop:"price",label:"\u4EF7\u683C",align:"center"}),e(c,{prop:"wind",label:"\u6392\u98CE\u91CF",align:"center"}),e(c,{prop:"fire",label:"\u706B\u529B",align:"center"}),e(c,{prop:"pa",label:"\u98CE\u538B",align:"center"}),e(c,{label:"\u64CD\u4F5C",width:"120"},{default:t(o=>[e(f,{link:"",type:"primary",size:"small",onClick:j=>$(o.row)},{default:t(()=>[ie]),_:2},1032,["onClick"]),e(f,{link:"",type:"danger",size:"small",onClick:j=>q(o.row)},{default:t(()=>[de]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),u(m)>0?(F(),D(oe,{key:0,class:"mt20",page:u(s).page,"onUpdate:page":a[2]||(a[2]=o=>u(s).page=o),limit:u(s).pageSize,"onUpdate:limit":a[3]||(a[3]=o=>u(s).pageSize=o),total:u(m),onPagination:V},null,8,["page","limit","total"])):H("",!0),e(T,{modelValue:g.value,"onUpdate:modelValue":a[6]||(a[6]=o=>g.value=o),title:"\u590D\u5236\u751F\u6210\u5185\u5BB9",width:"80%"},{footer:t(()=>[K("span",pe,[e(f,{type:"primary",onClick:a[5]||(a[5]=o=>g.value=!1)},{default:t(()=>[ce]),_:1})])]),default:t(()=>[e(v,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=o=>p.value=o),type:"textarea",rows:"10"},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}});const fe=Y(_e,[["__scopeId","data-v-c202919f"]]);export{fe as default};
