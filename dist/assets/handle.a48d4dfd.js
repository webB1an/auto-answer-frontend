import{d as O,g as y,h as S,c as v,k as e,w as u,a as T,r as p,o as F,m as b,t as k,f as r,F as D,y as w,E as U,e as j,p as G}from"./index.bb045485.js";import{b as H,e as I,c as J}from"./cooker.053866eb.js";const K={class:"handle-container"},P={class:"mt10"},Q=b("\u5220\u9664"),W=b("\u65B0\u589E\u63CF\u8FF0"),X=b("\u91CD\u7F6E"),ue=O({__name:"handle",setup(Y){var C;const f=(C=T().params)==null?void 0:C.id,q=f?"\u7F16\u8F91":"\u65B0\u5EFA",A=[{label:"\u84B8\u7BB1\u6B3E",value:1},{label:"\u70E4\u7BB1\u6B3E",value:2},{label:" \u6D88\u6BD2\u67DC\u6B3E",value:3},{label:"\u84B8\u70E4\u4E00\u4F53\u6B3E",value:4}],g=y();let l=y({sort:"",brand:"",name:"",price:"",url:"",pic:"",wind:"",fire:"",pa:"",describe:[{key:1,value:""}]});const M=S({sort:[{type:"number",required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B",trigger:"change"}],brand:[{required:!0,message:"\u8BF7\u8F93\u5165\u54C1\u724C\u540D",trigger:"blur"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:"blur"}],price:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u4EF7\u683C",trigger:"blur"}],url:[{required:!0,message:"\u8BF7\u8F93\u5165 url",trigger:"blur"}],pic:[{required:!0,message:"\u8BF7\u8F93\u5165\u56FE\u7247\u94FE\u63A5",trigger:"blur"}],wind:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u6392\u98CE\u91CF",trigger:"blur"}],fire:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u706B\u529B",trigger:"blur"}],pa:[{type:"number",required:!0,message:"\u8BF7\u8F93\u5165\u98CE\u538B",trigger:"blur"}]}),x=d=>{if(l.value.describe.length===1)return U({message:"\u81F3\u5C11\u8981\u4FDD\u7559\u4E00\u6761\u63CF\u8FF0\uFF01",type:"warning"});l.value.describe.splice(d,1)},$=()=>{l.value.describe=[...l.value.describe,{key:Date.now(),value:""}]},N=d=>{!d||d.validate(async a=>{if(a){let i;f?i=await I({...l.value,describe:l.value.describe.map(o=>o.value)}):i=await J({...l.value,describe:l.value.describe.map(o=>o.value)});const _=i.code===90001?"success":"error";U({message:i.msg,type:_}),V(f)}else return console.log("error submit!"),!1})},R=d=>{!d||d.resetFields()},V=d=>{d&&H(d).then(a=>{if(a.code===90001){const i=a.data,_=i.describe.map((o,n)=>({key:n,value:o}));l.value={...i,describe:_}}})};return V(f),(d,a)=>{const i=p("el-option"),_=p("el-select"),o=p("el-form-item"),n=p("el-col"),s=p("el-row"),m=p("el-input"),c=p("el-button"),z=p("el-form"),L=p("el-card");return F(),v("div",K,[e(L,null,{header:u(()=>[b(k(r(q)),1)]),default:u(()=>[e(z,{ref_key:"formRef",ref:g,model:r(l),rules:M,"label-width":"120px",size:"default","status-icon":""},{default:u(()=>[e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u7C7B\u578B",prop:"sort"},{default:u(()=>[e(_,{modelValue:r(l).sort,"onUpdate:modelValue":a[0]||(a[0]=t=>r(l).sort=t),modelModifiers:{number:!0},placeholder:"\u9009\u62E9\u7C7B\u578B"},{default:u(()=>[(F(),v(D,null,w(A,t=>e(i,{label:t.label,value:t.value,key:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u54C1\u724C",prop:"brand"},{default:u(()=>[e(m,{modelValue:r(l).brand,"onUpdate:modelValue":a[1]||(a[1]=t=>r(l).brand=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u540D\u79F0",prop:"name"},{default:u(()=>[e(m,{modelValue:r(l).name,"onUpdate:modelValue":a[2]||(a[2]=t=>r(l).name=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u4EF7\u683C",prop:"price"},{default:u(()=>[e(m,{modelValue:r(l).price,"onUpdate:modelValue":a[3]||(a[3]=t=>r(l).price=t),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u94FE\u63A5",prop:"url"},{default:u(()=>[e(m,{modelValue:r(l).url,"onUpdate:modelValue":a[4]||(a[4]=t=>r(l).url=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u56FE\u7247\u94FE\u63A5",prop:"pic"},{default:u(()=>[e(m,{modelValue:r(l).pic,"onUpdate:modelValue":a[5]||(a[5]=t=>r(l).pic=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u6392\u98CE\u91CF",prop:"wind"},{default:u(()=>[e(m,{modelValue:r(l).wind,"onUpdate:modelValue":a[6]||(a[6]=t=>r(l).wind=t),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u706B\u529B",prop:"fire"},{default:u(()=>[e(m,{modelValue:r(l).fire,"onUpdate:modelValue":a[7]||(a[7]=t=>r(l).fire=t),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:8},{default:u(()=>[e(o,{label:"\u98CE\u538B",prop:"pa"},{default:u(()=>[e(m,{modelValue:r(l).pa,"onUpdate:modelValue":a[8]||(a[8]=t=>r(l).pa=t),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:u(()=>[e(n,{span:24},{default:u(()=>[(F(!0),v(D,null,w(r(l).describe,(t,B)=>(F(),j(o,{key:t.key,label:`\u63CF\u8FF0${B+1}`,prop:"describe."+B+".value",rules:{required:!0,message:"\u63CF\u8FF0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}},{default:u(()=>[e(m,{modelValue:t.value,"onUpdate:modelValue":E=>t.value=E,type:"textarea"},null,8,["modelValue","onUpdate:modelValue"]),G("div",P,[e(c,{type:"danger",onClick:E=>x(B)},{default:u(()=>[Q]),_:2},1032,["onClick"])])]),_:2},1032,["label","prop"]))),128))]),_:1})]),_:1}),e(o,null,{default:u(()=>[e(c,{onClick:$},{default:u(()=>[W]),_:1}),e(c,{onClick:a[9]||(a[9]=t=>R(g.value))},{default:u(()=>[X]),_:1}),e(c,{type:"primary",onClick:a[10]||(a[10]=t=>N(g.value))},{default:u(()=>[b(k(r(f)?"\u66F4\u65B0":"\u65B0\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}});export{ue as default};
