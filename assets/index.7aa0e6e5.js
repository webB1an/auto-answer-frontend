import{d as L,a as S,r as f,b as T,e as q,f as u,g as n,c as j,h as e,w as a,i as I,j as O,o as w,k as s,t as R,l as G,E as H,m as J,_ as K}from"./index.d95e7678.js";import{g as Q,a as W,b as X,d as Y}from"./constant.1949b953.js";import{u as Z,P as ee}from"./usePagination.2d91118f.js";import"./request.d60b6c24.js";const ae={class:"app-container"},te={class:"dialog-footer"},oe=L({__name:"index",setup(le){const k=S(),{total:g,query:d}=Z(),i=f({brand:"",name:""}),y=f([]),m=f(!1),C=f(""),_=()=>{Q({...d,requestData:{...i.value}}).then(l=>{console.log(l.data),y.value=l.data.list,g.value=l.data.total})},B=()=>{_()},x=()=>{d.page=1,_()},{copy:F}=T(),V=q("clipboard-write");console.log(u(V));const E=()=>{X().then(l=>{if(u(V)==="granted")return F(l.data);C.value=l.data,m.value=!0})},D=()=>{k.push({path:"/cooker/add"})},P=l=>{k.push({path:`/cooker/editor/${l.id}`})},U=l=>{!l.id||H.confirm("\u662F\u5426\u786E\u8BA4\u5220\u9664\uFF1F","\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{Y(l.id).then(t=>{console.log(t);const c=t.code===90001?"success":"error";J({message:t.msg,type:c}),_()})}).catch(()=>{})};return _(),(l,t)=>{const c=n("el-input"),b=n("el-form-item"),v=n("el-col"),p=n("el-button"),h=n("el-row"),z=n("el-form"),A=n("el-card"),r=n("el-table-column"),M=n("el-table"),N=n("el-dialog");return w(),j("div",ae,[e(A,null,{default:a(()=>[e(z,{model:i.value,inline:""},{default:a(()=>[e(h,null,{default:a(()=>[e(v,{span:8},{default:a(()=>[e(b,{label:"\u54C1\u724C",prop:"brand"},{default:a(()=>[e(c,{modelValue:i.value.brand,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value.brand=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:8},{default:a(()=>[e(b,{label:"\u540D\u79F0",prop:"name"},{default:a(()=>[e(c,{modelValue:i.value.name,"onUpdate:modelValue":t[1]||(t[1]=o=>i.value.name=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:8},{default:a(()=>[e(b,null,{default:a(()=>[e(p,{onClick:x,type:"primary"},{default:a(()=>[s("\u67E5\u8BE2")]),_:1}),e(p,{onClick:E,type:"primary"},{default:a(()=>[s("\u751F\u6210")]),_:1}),e(p,{onClick:D,type:"primary"},{default:a(()=>[s("\u65B0\u5EFA")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(M,{class:"mt20",data:y.value,border:""},{default:a(()=>[e(r,{label:"\u5206\u7C7B",align:"center"},{default:a(o=>[s(R(u(W)(o.row.sort)),1)]),_:1}),e(r,{prop:"brand",label:"\u54C1\u724C",align:"center"}),e(r,{prop:"name",label:"\u540D\u79F0",align:"center"}),e(r,{prop:"price",label:"\u4EF7\u683C",align:"center"}),e(r,{prop:"wind",label:"\u6392\u98CE\u91CF",align:"center"}),e(r,{prop:"fire",label:"\u706B\u529B",align:"center"}),e(r,{prop:"pa",label:"\u98CE\u538B",align:"center"}),e(r,{label:"\u64CD\u4F5C",width:"120"},{default:a(o=>[e(p,{link:"",type:"primary",size:"small",onClick:$=>P(o.row)},{default:a(()=>[s(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),e(p,{link:"",type:"danger",size:"small",onClick:$=>U(o.row)},{default:a(()=>[s("\u5220\u9664")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),u(g)>0?(w(),I(ee,{key:0,class:"mt20",page:u(d).page,"onUpdate:page":t[2]||(t[2]=o=>u(d).page=o),limit:u(d).pageSize,"onUpdate:limit":t[3]||(t[3]=o=>u(d).pageSize=o),total:u(g),onPagination:B},null,8,["page","limit","total"])):O("v-if",!0),e(N,{modelValue:m.value,"onUpdate:modelValue":t[6]||(t[6]=o=>m.value=o),title:"\u590D\u5236\u751F\u6210\u5185\u5BB9",width:"80%"},{footer:a(()=>[G("span",te,[e(p,{type:"primary",onClick:t[5]||(t[5]=o=>m.value=!1)},{default:a(()=>[s("\u5173\u95ED")]),_:1})])]),default:a(()=>[e(c,{modelValue:C.value,"onUpdate:modelValue":t[4]||(t[4]=o=>C.value=o),type:"textarea",rows:"10"},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}});const de=K(oe,[["__scopeId","data-v-247338a8"],["__file","/home/runner/work/auto-answer-frontend/auto-answer-frontend/src/views/cooker/index.vue"]]);export{de as default};
