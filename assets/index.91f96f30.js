import{d as E,b as B,r as l,e as F,f as s,i as P,o as h,_ as U,g as k,h as T,a as G,j as H,k as J,c as K,l as e,w as t,m as O,n as Q,p as f,E as W}from"./index.e0997e6a.js";import{g as X,a as Y,d as Z}from"./cooker.ef5293d9.js";const ee=E({__name:"index",props:{page:{type:Number,required:!0},limit:{type:Number,required:!0},total:{type:Number,required:!0}},emits:["update:page","update:limit","pagination"],setup(C,{emit:i}){const _=C,u=B({get(){return _.page},set(p){i("update:page",p)}}),r=B({get(){return _.limit},set(p){i("update:limit",p)}}),y=()=>{i("pagination")},m=()=>{i("pagination")};return(p,d)=>{const w=l("el-pagination");return h(),F(w,{currentPage:s(u),"onUpdate:currentPage":d[0]||(d[0]=b=>P(u)?u.value=b:null),"page-size":s(r),"onUpdate:page-size":d[1]||(d[1]=b=>P(r)?r.value=b:null),"page-sizes":[10,20,40,60,80,100],background:"",total:C.total,onSizeChange:y,onCurrentChange:m,layout:"total, sizes, prev, pager, next, jumper"},null,8,["currentPage","page-size","total"])}}}),te=U(ee,[["__file","/home/runner/work/auto-answer-frontend/auto-answer-frontend/src/components/Pagination/index.vue"]]);function ae(){const C=k(0),i=T({page:1,pageSize:10});return{total:C,query:i}}const oe={class:"app-container"},ne=f("\u67E5\u8BE2"),le=f("\u751F\u6210"),ue=f("\u65B0\u5EFA"),re=f(" \u7F16\u8F91 "),se=f("\u5220\u9664"),ie={class:"dialog-footer"},de=f("\u5173\u95ED"),pe=E({__name:"index",setup(C){const i=G(),{total:_,query:u}=ae(),r=k({brand:"",name:""}),y=k([]),m=k(!1),p=k(""),d=()=>{X({...u,requestData:{...r.value}}).then(n=>{console.log(n.data),y.value=n.data.list,_.value=n.data.total})},w=()=>{d()},b=()=>{u.page=1,d()},{copy:D}=H(),z=J("clipboard-write");console.log(s(z));const N=()=>{Y().then(n=>{if(s(z)==="granted")return D(n.data);p.value=n.data,m.value=!0})},q=()=>{i.push({path:"/cooker/add"})},S=n=>{i.push({path:`/cooker/editor/${n.id}`})},$=n=>{!n.id||Z(n.id).then(a=>{console.log(a);const v=a.code===90001?"success":"error";W({message:a.msg,type:v}),d()})};return d(),(n,a)=>{const v=l("el-input"),V=l("el-form-item"),x=l("el-col"),g=l("el-button"),M=l("el-row"),j=l("el-form"),A=l("el-card"),c=l("el-table-column"),L=l("el-table"),R=l("el-dialog");return h(),K("div",oe,[e(A,null,{default:t(()=>[e(j,{model:r.value,inline:""},{default:t(()=>[e(M,null,{default:t(()=>[e(x,{span:8},{default:t(()=>[e(V,{label:"\u54C1\u724C",prop:"brand"},{default:t(()=>[e(v,{modelValue:r.value.brand,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value.brand=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(x,{span:8},{default:t(()=>[e(V,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[e(v,{modelValue:r.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>r.value.name=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(x,{span:8},{default:t(()=>[e(V,null,{default:t(()=>[e(g,{onClick:b,type:"primary"},{default:t(()=>[ne]),_:1}),e(g,{onClick:N,type:"primary"},{default:t(()=>[le]),_:1}),e(g,{onClick:q,type:"primary"},{default:t(()=>[ue]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(L,{class:"mt20",data:y.value,border:""},{default:t(()=>[e(c,{prop:"sort",label:"\u5206\u7C7B",align:"center"}),e(c,{prop:"brand",label:"\u54C1\u724C",align:"center"}),e(c,{prop:"name",label:"\u540D\u79F0",align:"center"}),e(c,{prop:"price",label:"\u4EF7\u683C",align:"center"}),e(c,{prop:"wind",label:"\u6392\u98CE\u91CF",align:"center"}),e(c,{prop:"fire",label:"\u706B\u529B",align:"center"}),e(c,{prop:"pa",label:"\u98CE\u538B",align:"center"}),e(c,{label:"\u64CD\u4F5C",width:"120"},{default:t(o=>[e(g,{link:"",type:"primary",size:"small",onClick:I=>S(o.row)},{default:t(()=>[re]),_:2},1032,["onClick"]),e(g,{link:"",type:"danger",size:"small",onClick:I=>$(o.row)},{default:t(()=>[se]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),s(_)>0?(h(),F(te,{key:0,class:"mt20",page:s(u).page,"onUpdate:page":a[2]||(a[2]=o=>s(u).page=o),limit:s(u).pageSize,"onUpdate:limit":a[3]||(a[3]=o=>s(u).pageSize=o),total:s(_),onPagination:w},null,8,["page","limit","total"])):O("v-if",!0),e(R,{modelValue:m.value,"onUpdate:modelValue":a[6]||(a[6]=o=>m.value=o),title:"\u590D\u5236\u751F\u6210\u5185\u5BB9",width:"80%"},{footer:t(()=>[Q("span",ie,[e(g,{type:"primary",onClick:a[5]||(a[5]=o=>m.value=!1)},{default:t(()=>[de]),_:1})])]),default:t(()=>[e(v,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=o=>p.value=o),type:"textarea",rows:"10"},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}});const me=U(pe,[["__scopeId","data-v-247338a8"],["__file","/home/runner/work/auto-answer-frontend/auto-answer-frontend/src/views/cooker/index.vue"]]);export{me as default};
