import{d as q,a as j,r as m,b as I,e as O,f as u,g as n,c as R,h as e,w as t,i as B,j as x,o as k,k as r,t as G,l as H,E as J,m as K,_ as Q}from"./index.f08c47ae.js";import{g as W,a as X,b as Y,d as Z}from"./constant.1be021bc.js";import{u as ee,P as te}from"./usePagination.c1a29af9.js";import"./request.a83a32d5.js";const ae={class:"app-container"},oe={class:"dialog-footer"},le=q({__name:"index",setup(ne){console.log("ssss","github");const y=j(),{total:g,query:d}=ee(),i=m({brand:"",name:""}),V=m([]),_=m(!1),b=m(""),f=()=>{W({...d,requestData:{...i.value}}).then(l=>{console.log(l.data),V.value=l.data.list,g.value=l.data.total})},F=()=>{f()},E=()=>{d.page=1,f()},{copy:D}=I(),w=O("clipboard-write");console.log(u(w));const h=()=>{Y().then(l=>{if(u(w)==="granted")return D(l.data);b.value=l.data,_.value=!0})},P=()=>{y.push({path:"/cooker/add"})},U=l=>{y.push({path:`/cooker/editor/${l.id}`})},z=l=>{!l.id||J.confirm("\u662F\u5426\u786E\u8BA4\u5220\u9664\uFF1F","\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{Z(l.id).then(a=>{console.log(a);const c=a.code===90001?"success":"error";K({message:a.msg,type:c}),f()})}).catch(()=>{})},A=m("github");return f(),(l,a)=>{const c=n("el-input"),C=n("el-form-item"),v=n("el-col"),p=n("el-button"),M=n("el-row"),N=n("el-form"),$=n("el-card"),s=n("el-table-column"),L=n("el-table"),S=n("el-dialog");return k(),R("div",ae,[e($,null,{default:t(()=>[e(N,{model:i.value,inline:""},{default:t(()=>[e(M,null,{default:t(()=>[e(v,{span:8},{default:t(()=>[e(C,{label:"\u54C1\u724C",prop:"brand"},{default:t(()=>[e(c,{modelValue:i.value.brand,"onUpdate:modelValue":a[0]||(a[0]=o=>i.value.brand=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:8},{default:t(()=>[e(C,{label:"\u540D\u79F0",prop:"name"},{default:t(()=>[e(c,{modelValue:i.value.name,"onUpdate:modelValue":a[1]||(a[1]=o=>i.value.name=o)},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{span:8},{default:t(()=>[e(C,null,{default:t(()=>[e(p,{onClick:E,type:"primary"},{default:t(()=>[r("\u67E5\u8BE2")]),_:1}),e(p,{onClick:h,type:"primary"},{default:t(()=>[r("\u751F\u6210")]),_:1}),e(p,{onClick:P,type:"primary"},{default:t(()=>[r("\u65B0\u5EFA")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(L,{class:"mt20",data:V.value,border:""},{default:t(()=>[e(s,{label:"\u5206\u7C7B",align:"center"},{default:t(o=>[r(G(u(X)(o.row.sort)),1)]),_:1}),e(s,{prop:"brand",label:"\u54C1\u724C",align:"center"}),e(s,{prop:"name",label:"\u540D\u79F0",align:"center"}),e(s,{prop:"price",label:"\u4EF7\u683C",align:"center"}),e(s,{prop:"wind",label:"\u6392\u98CE\u91CF",align:"center"}),e(s,{prop:"fire",label:"\u706B\u529B",align:"center"}),e(s,{prop:"pa",label:"\u98CE\u538B",align:"center"}),e(s,{label:"\u64CD\u4F5C",width:"120"},{default:t(o=>[e(p,{link:"",type:"primary",size:"small",onClick:T=>U(o.row)},{default:t(()=>[r(" \u7F16\u8F91 ")]),_:2},1032,["onClick"]),A.value==="development"?(k(),B(p,{key:0,link:"",type:"danger",size:"small",onClick:T=>z(o.row)},{default:t(()=>[r(" \u5220\u9664 ")]),_:2},1032,["onClick"])):x("v-if",!0)]),_:1})]),_:1},8,["data"]),u(g)>0?(k(),B(te,{key:0,class:"mt20",page:u(d).page,"onUpdate:page":a[2]||(a[2]=o=>u(d).page=o),limit:u(d).pageSize,"onUpdate:limit":a[3]||(a[3]=o=>u(d).pageSize=o),total:u(g),onPagination:F},null,8,["page","limit","total"])):x("v-if",!0),e(S,{modelValue:_.value,"onUpdate:modelValue":a[6]||(a[6]=o=>_.value=o),title:"\u590D\u5236\u751F\u6210\u5185\u5BB9",width:"80%"},{footer:t(()=>[H("span",oe,[e(p,{type:"primary",onClick:a[5]||(a[5]=o=>_.value=!1)},{default:t(()=>[r("\u5173\u95ED")]),_:1})])]),default:t(()=>[e(c,{modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=o=>b.value=o),type:"textarea",rows:"10"},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}});const ie=Q(le,[["__scopeId","data-v-247338a8"],["__file","/home/runner/work/auto-answer-frontend/auto-answer-frontend/src/views/cooker/index.vue"]]);export{ie as default};
